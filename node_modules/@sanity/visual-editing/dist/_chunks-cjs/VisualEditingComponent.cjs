"use strict";var e=require("next/router.js"),r=require("react"),t=require("./enableVisualEditing.cjs");exports.default=function(u){const{components:s,refresh:n,zIndex:c}=u,a=e.useRouter(),o=r.useRef(a),[p,i]=r.useState();r.useEffect((()=>{o.current=a}),[a]),r.useEffect((()=>{const e=t.e({components:s,zIndex:c,refresh:n,history:{subscribe:e=>(i((()=>e)),()=>i(void 0)),update:e=>{switch(e.type){case"push":return o.current.push(e.url);case"pop":return o.current.back();case"replace":return o.current.replace(e.url);default:throw new Error(`Unknown update type: ${e.type}`)}}}});return()=>e()}),[s,n,c]);const{asPath:l,basePath:f,locale:h,isReady:d}=e.useRouter();return r.useEffect((()=>{p&&d&&p({type:"push",url:f||h?`${f}${h?`/${h}`:""}${"/"===l?"":l}`:l})}),[l,f,d,h,p]),null};//# sourceMappingURL=VisualEditingComponent.cjs.map

import{useRouter as e}from"next/router.js";import{useRef as r,useState as t,useEffect as n}from"react";import{e as s}from"./enableVisualEditing.js";function u(u){const{components:o,refresh:a,zIndex:c}=u,p=e(),l=r(p),[i,h]=t();n((()=>{l.current=p}),[p]),n((()=>{const e=s({components:o,zIndex:c,refresh:a,history:{subscribe:e=>(h((()=>e)),()=>h(void 0)),update:e=>{switch(e.type){case"push":return l.current.push(e.url);case"pop":return l.current.back();case"replace":return l.current.replace(e.url);default:throw new Error(`Unknown update type: ${e.type}`)}}}});return()=>e()}),[o,a,c]);const{asPath:d,basePath:f,locale:m,isReady:y}=e();return n((()=>{i&&y&&i({type:"push",url:f||m?`${f}${m?`/${m}`:""}${"/"===d?"":d}`:d})}),[d,f,y,m,i]),null}export{u as default};//# sourceMappingURL=VisualEditingComponent.js.map
